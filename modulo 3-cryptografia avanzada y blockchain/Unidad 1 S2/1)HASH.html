<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tema 1.3: Teoría de Integridad</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500;700&display=swap');
    @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css');

    body { background-color: #f0f2f5; margin: 0; padding: 40px 20px; font-family: 'Roboto', sans-serif; color: #37474f; }

    .container-extended {
        max-width: 1000px; margin: 0 auto; padding: 60px 50px; background: #ffffff;
        border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); position: relative;
        border-top: 8px solid #0d47a1;
    }

    .uni-logo {
        position: absolute; top: 30px; right: 40px; width: 150px; height: auto; z-index: 100;
        background: rgba(255,255,255,0.95); padding: 5px; border-radius: 8px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .uni-logo:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 24px rgba(0,0,0,0.15); }

    .header-box { text-align: left; margin-bottom: 50px; padding-top: 30px; padding-right: 180px; border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; }
    .main-title { font-family: 'Montserrat', sans-serif; font-size: 2.2rem; font-weight: 800; color: #0d47a1; margin: 0 0 10px 0; }
    
    .concept-box {
        background: #f5faff; border: 1px solid #bbdefb; padding: 25px; border-radius: 12px; margin-bottom: 25px;
    }
    .concept-title { color: #1565c0; font-weight: 700; font-size: 1.2rem; display: block; margin-bottom: 10px; font-family: 'Montserrat', sans-serif; }

    @media (max-width: 768px) {
        .uni-logo { position: static; display: block; margin: 0 auto 20px auto; }
        .header-box { padding-right: 0; text-align: center; }
    }
</style>
</head>
<body>

<div class="container-extended">
    <img src="https://www.dropbox.com/scl/fi/j7mrxq795h9ekhifpcink/logo.png?rlkey=bsh9h5f98pd67n3bfejh368vk&st=8gcmg5vx&raw=1" alt="Logo FET" class="uni-logo">

    <div class="header-box">
        <h1 class="main-title">Tema 1.3: Hash y Firmas Digitales</h1>
        <p>Fundamentos matemáticos de la integridad.</p>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-hashtag"></i> Función Hash (Resumen Criptográfico)</span>
        <p>Es una función unidireccional que mapea datos de tamaño arbitrario a una cadena de tamaño fijo. Es determinista: la misma entrada siempre produce la misma salida.</p>
        <p><strong>Propiedad Clave:</strong> Es computacionalmente inviable encontrar dos entradas distintas que produzcan el mismo hash (resistencia a colisiones).</p>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-key"></i> HMAC (Keyed-Hash MAC)</span>
        <p>Combina una función hash con una clave secreta. A diferencia del hash simple, el HMAC garantiza tanto la integridad como la <strong>autenticidad</strong> del mensaje, ya que solo quien posee la clave secreta pudo haberlo generado.</p>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-file-signature"></i> Firma Digital (PKI)</span>
        <p>Mecanismo que utiliza criptografía asimétrica. El emisor cifra el hash del documento con su clave privada. El receptor descifra con la clave pública del emisor. Si los hashes coinciden, se garantiza la identidad del firmante y la integridad del documento.</p>
    </div>



    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-circle-info"></i> ¿Por qué el hash es tan importante?</span>
        <p>En seguridad, el hash es la <strong>herramienta básica para detectar cambios</strong>. Si un archivo cambia 1 bit, su hash cambia por completo (efecto avalancha). Por eso se usa para:</p>
        <ul>
            <li><strong>Verificar descargas:</strong> comparar el hash publicado vs el hash del archivo descargado.</li>
            <li><strong>Integridad de registros:</strong> encadenar hashes (hash chaining) para evidenciar alteraciones.</li>
            <li><strong>Contraseñas:</strong> almacenar <em>huellas</em> (hash + salt), no texto ni cifrado reversible.</li>
        </ul>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-triangle-exclamation"></i> Errores comunes (y por qué son peligrosos)</span>
        <ul>
            <li><strong>Usar MD5 o SHA‑1:</strong> hoy se consideran débiles para integridad crítica (colisiones factibles).</li>
            <li><strong>Confundir hash con cifrado:</strong> el hash no se “descifra”. Si necesitas recuperar el mensaje, no es hash: es cifrado.</li>
            <li><strong>Guardar contraseñas “hasheadas” sin salt:</strong> facilita ataques con tablas rainbow y cracking masivo.</li>
            <li><strong>Reutilizar claves en HMAC:</strong> si una clave se filtra, toda la integridad/autenticidad queda comprometida.</li>
        </ul>
        <p style="margin-bottom:0;"><strong>Regla:</strong> para contraseñas usa <strong>Argon2/bcrypt/scrypt</strong> (no SHA‑256 directo) y siempre con salt.</p>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-diagram-project"></i> Hash chaining (integridad en cadena)</span>
        <p>Si tienes registros A, B, C… puedes encadenar hashes así:</p>
        <div style="background:#fff3e0;border:1px solid #ffe0b2;border-radius:12px;padding:14px;font-family:'Courier New',monospace;color:#e65100;">
            H0 = hash("GENESIS")<br>
            H1 = hash(A || H0)<br>
            H2 = hash(B || H1)<br>
            H3 = hash(C || H2)
        </div>
        <p style="margin-top:10px;">Si alguien cambia B, entonces H2 cambia y todos los hashes siguientes dejan de coincidir.</p>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-wand-magic-sparkles"></i> Mini‑reto (5–10 min)</span>
        <p><strong>Objetivo:</strong> demostrar integridad con evidencia.</p>
        <ol>
            <li>Elige un archivo (PDF o imagen).</li>
            <li>Calcula su hash (SHA‑256) con una herramienta (terminal o web offline).</li>
            <li>Cambia un carácter (o recorta un pixel) y vuelve a calcular.</li>
            <li>Explica en 4 líneas qué pasó y por qué eso demuestra integridad.</li>
        </ol>
    </div>

    <div class="concept-box">
        <span class="concept-title"><i class="fa-solid fa-list-check"></i> Checklist para “dominar” el tema</span>
        <ul>
            <li>Distingo <strong>hash</strong> vs <strong>cifrado</strong> vs <strong>firma digital</strong>.</li>
            <li>Explico cuándo usar <strong>HMAC</strong> en lugar de firma digital.</li>
            <li>Sé por qué <strong>SHA‑256</strong> sirve para integridad pero no para almacenar contraseñas directamente.</li>
        </ul>
    </div>

</div>

</body>
</html>