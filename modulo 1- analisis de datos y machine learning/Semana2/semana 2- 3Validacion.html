<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teoría 1.5: Validación y Partición de Datos</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500;700&display=swap');
    @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css');

    body { background-color: #f0f2f5; margin: 0; padding: 40px 20px; font-family: 'Roboto', sans-serif; color: #37474f; line-height: 1.8; }

    .container-extended {
        max-width: 1000px; margin: 0 auto; padding: 60px 50px; background: #ffffff;
        border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); position: relative;
        overflow: hidden; border-top: 8px solid #1565c0;
    }

    .uni-logo { position: absolute; top: 30px; right: 40px; width: 160px; height: auto; z-index: 100; padding: 5px; background: #fff; border-radius: 8px; transition: transform 0.2s ease, box-shadow 0.2s ease; }
    .uni-logo:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 24px rgba(0,0,0,0.15); }

    .header-box { text-align: left; margin-bottom: 60px; padding-top: 40px; padding-right: 180px; padding-left: 20px; border-bottom: 2px solid #e0e0e0; padding-bottom: 30px; }
    .main-title { font-family: 'Montserrat', sans-serif; font-size: 2.4rem; font-weight: 800; color: #0d47a1; margin: 0 0 15px 0; }

    .content-block { margin-bottom: 50px; font-size: 1.1rem; text-align: justify; }

    /* CAJA DE CONCEPTO */
    .concept-box {
        background: #e3f2fd; border: 1px solid #90caf9; padding: 25px; margin-bottom: 25px; border-radius: 12px;
    }
    .concept-title { font-weight: 700; color: #1565c0; display: block; margin-bottom: 10px; font-size: 1.2rem; font-family: 'Montserrat', sans-serif; }

    /* LISTA DE CHEQUEO */
    .checklist-container {
        background: #f5faff; border-left: 6px solid #0d47a1; padding: 30px; border-radius: 8px; margin-top: 40px;
    }
    .check-item { display: flex; align-items: start; margin-bottom: 15px; }
    .check-icon { color: #2e7d32; font-size: 1.3rem; margin-right: 15px; margin-top: 3px; }

    @media (max-width: 768px) {
        .uni-logo { position: static; display: block; margin: 0 auto 20px auto; }
        .header-box { padding-right: 20px; text-align: center; }
    }
</style>
</head>
<body>

<div class="container-extended">
    <img src="https://www.dropbox.com/scl/fi/j7mrxq795h9ekhifpcink/logo.png?rlkey=bsh9h5f98pd67n3bfejh368vk&st=8gcmg5vx&raw=1" alt="Logo FET" class="uni-logo">

    <div class="header-box">
        <h1 class="main-title">Validación Básica y Estrategia de Partición</h1>
        <p style="color:#546e7a;">Cómo evaluar sin hacerse trampas al solitario.</p>
    </div>

    <div class="content-block">
        <p>El error metodológico más grave en Data Science es evaluar el modelo con los mismos datos que usó para aprender. Esto lleva al <strong>Overfitting (Sobreajuste)</strong>: el modelo "memoriza" los datos de entrenamiento pero falla miserablemente ante datos nuevos. Para evitar esto, dividimos nuestro universo de datos en subconjuntos estrictos que simulan la realidad de "no conocer el futuro".</p>

        <h2 style="color:#0d47a1; margin-top:40px;">1. La Partición Sagrada (Train / Test Split)</h2>
        <div class="concept-box">
            <span class="concept-title">Conjunto de Entrenamiento (Train - 70-80%)</span>
            Son los únicos datos que el modelo puede "ver" para ajustar sus parámetros internos. Es su libro de estudio. Aquí aplicamos el método <code>.fit()</code>.
        </div>
        <div class="concept-box">
            <span class="concept-title">Conjunto de Prueba (Test - 20-30%)</span>
            Son datos que se mantienen ocultos ("en una caja fuerte") hasta el final del proceso. Se usan una sola vez para simular cómo se comportará el modelo en el mundo real. <strong>Nunca se debe entrenar con ellos.</strong>
        </div>

        <h2 style="color:#0d47a1; margin-top:40px;">2. Fuga de Datos (Data Leakage)</h2>
        <p>Ocurre cuando, accidentalmente, información del conjunto de Test se filtra al proceso de entrenamiento. El ejemplo más común es <strong>calcular la media para el escalado usando TODO el dataset</strong> antes de dividirlo. Si haces esto, el modelo aprende indirectamente sobre la distribución del set de prueba.</p>
        <p><strong>Forma Correcta (Pipeline Seguro):</strong> 
        <br>1. Dividir primero en Train y Test. 
        <br>2. Calcular la media/desviación estándar (<code>fit</code>) SOLO con los datos de Train. 
        <br>3. Usar esa media para transformar (<code>transform</code>) los datos de Train.
        <br>4. Usar la MISMA media guardada para transformar los datos de Test (sin recalcular).</p>

        <div class="checklist-container">
            <h3 style="color:#0d47a1; margin-top:0; margin-bottom:20px;">✅ Checklist: Dataset Listo para Modelar</h3>
            <div class="check-item">
                <i class="fa-solid fa-circle-check check-icon"></i>
                <div><strong>Limpieza Completa:</strong> No existen valores nulos (NaN) en las columnas seleccionadas.</div>
            </div>
            <div class="check-item">
                <i class="fa-solid fa-circle-check check-icon"></i>
                <div><strong>Formato Numérico:</strong> Todas las variables categóricas han sido codificadas (Encoding).</div>
            </div>
            <div class="check-item">
                <i class="fa-solid fa-circle-check check-icon"></i>
                <div><strong>Escala Uniforme:</strong> Las variables numéricas tienen rangos comparables (Escalado).</div>
            </div>
            <div class="check-item">
                <i class="fa-solid fa-circle-check check-icon"></i>
                <div><strong>Partición Estratificada:</strong> Si la clase "Fraude" es solo el 1%, aseguramos que tanto en Train como en Test haya un 1% de fraudes (Stratified Split).</div>
            </div>
        </div>
    </div>
</div>

</body>
</html>