<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tema 2.2: Gesti√≥n de Claves</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500;700&display=swap');
    @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css');

    body {
        background-color: #f0f2f5;
        margin: 0;
        padding: 40px 20px;
        font-family: 'Roboto', sans-serif;
        color: #37474f;
        line-height: 1.8;
    }

    .container-extended {
        max-width: 1000px;
        margin: 0 auto;
        padding: 60px 50px;
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.08);
        position: relative;
        overflow: hidden;
        border-top: 8px solid #0d47a1;
    }

    .uni-logo {
        position: absolute; top: 30px; right: 40px; width: 150px; height: auto; z-index: 100;
        background: rgba(255,255,255,0.95); padding: 5px; border-radius: 8px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .uni-logo:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 24px rgba(0,0,0,0.15); }

    .header-box { text-align: left; margin-bottom: 50px; padding-top: 30px; padding-right: 180px; border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; }
    .main-title { font-family: 'Montserrat', sans-serif; font-size: 2.2rem; font-weight: 800; color: #0d47a1; margin: 0 0 10px 0; }
    
    .lifecycle-container {
        display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px;
    }
    .lifecycle-step {
        background: #fff; border: 1px solid #e0e0e0; padding: 20px; border-radius: 12px;
        display: flex; align-items: center; gap: 15px; border-left: 5px solid #2e7d32;
    }
    .step-num { 
        background: #2e7d32; color: white; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;
    }
    .step-title { font-weight: 700; color: #1b5e20; font-family: 'Montserrat', sans-serif; font-size: 1.1rem; }

    .vault-box {
        background: #e8f5e9; padding: 25px; border-radius: 12px; border: 1px dashed #2e7d32; margin-top: 30px;
    }

    @media (max-width: 768px) {
        .uni-logo { position: static; display: block; margin: 0 auto 20px auto; }
        .header-box { padding-right: 0; text-align: center; }
    }
</style>
</head>
<body>

<div class="container-extended">
    <img src="https://www.dropbox.com/scl/fi/j7mrxq795h9ekhifpcink/logo.png?rlkey=bsh9h5f98pd67n3bfejh368vk&st=8gcmg5vx&raw=1" alt="Logo FET" class="uni-logo">

    <div class="header-box">
        <h1 class="main-title">Tema 2.2: Gesti√≥n de Claves (KMS)</h1>
        <p>El secreto de la seguridad es... mantener el secreto.</p>
    </div>

    <p style="margin-bottom: 30px;">
        La criptograf√≠a transforma un problema de seguridad de datos en un problema de gesti√≥n de claves. Si el atacante roba la clave, el cifrado es in√∫til.
    </p>

    <h3 style="color:#0d47a1;">Ciclo de Vida de una Clave</h3>
    <div class="lifecycle-container">
        <div class="lifecycle-step">
            <div class="step-num">1</div>
            <div>
                <span class="step-title">Generaci√≥n</span>
                <p style="margin:0;">Debe hacerse con entrop√≠a fuerte (CSPRNG) y en un entorno seguro.</p>
            </div>
        </div>
        <div class="lifecycle-step">
            <div class="step-num">2</div>
            <div>
                <span class="step-title">Almacenamiento</span>
                <p style="margin:0;">Nunca en el c√≥digo fuente (hardcoded). Usar variables de entorno o KMS (Key Management Systems).</p>
            </div>
        </div>
        <div class="lifecycle-step">
            <div class="step-num">3</div>
            <div>
                <span class="step-title">Rotaci√≥n</span>
                <p style="margin:0;">Cambiar las claves peri√≥dicamente limita el da√±o si una clave antigua es comprometida.</p>
            </div>
        </div>
        <div class="lifecycle-step">
            <div class="step-num">4</div>
            <div>
                <span class="step-title">Revocaci√≥n y Destrucci√≥n</span>
                <p style="margin:0;">Borrado seguro cuando la clave ya no es necesaria o ha sido expuesta.</p>
            </div>
        </div>
    </div>

    <div class="vault-box">
        <strong>üõ°Ô∏è Herramientas Recomendadas:</strong><br>
        Usa servicios como AWS KMS, Azure Key Vault o HashiCorp Vault para manejar tus secretos. ¬°Nunca los subas a GitHub!
    </div>



    <div class="vault-box" style="background:#f5faff;border:1px solid #bbdefb;">
        <strong>üîë KMS en una frase:</strong> es un sistema para <strong>generar</strong>, <strong>guardar</strong>, <strong>controlar acceso</strong> y <strong>rotar</strong> llaves, sin exponerlas a tu aplicaci√≥n m√°s de lo necesario.
        <div style="margin-top:10px;color:#546e7a;">
            En entornos reales, tu app <em>no deber√≠a</em> ver la ‚Äúllave maestra‚Äù; deber√≠a pedirle al KMS que cifre/descifre o que entregue una llave derivada temporal.
        </div>
    </div>

    <h3 style="color:#0d47a1; margin-top: 35px;">üß© Modelo pr√°ctico: Envelope Encryption</h3>
    <div style="background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:18px;">
        <p style="margin-top:0;">Es el patr√≥n m√°s usado en cloud:</p>
        <ol style="margin:0 0 0 18px;">
            <li>Generas una <strong>Data Key</strong> (DEK) para cifrar datos (r√°pida, sim√©trica).</li>
            <li>La DEK se cifra con una <strong>Key Encryption Key</strong> (KEK) protegida por el KMS.</li>
            <li>Guardas: <em>datos cifrados + DEK cifrada</em>. La KEK nunca sale del KMS.</li>
        </ol>
        <div style="background:#e8f5e9;border:1px solid #c8e6c9;border-radius:12px;padding:12px;margin-top:12px;">
            <strong>Ventaja:</strong> si rotas la KEK, no necesitas recifrar todos los datos; solo recifras DEKs.
        </div>
    </div>

    <h3 style="color:#0d47a1; margin-top: 35px;">‚ö†Ô∏è Riesgos t√≠picos (y c√≥mo mitigarlos)</h3>
    <ul>
        <li><strong>Llaves en c√≥digo:</strong> usa variables de entorno/secret managers + rotaci√≥n.</li>
        <li><strong>Acceso excesivo:</strong> aplica m√≠nimos privilegios y separaci√≥n de roles.</li>
        <li><strong>Sin rotaci√≥n:</strong> define pol√≠tica (cada X d√≠as) + revocaci√≥n por incidente.</li>
        <li><strong>Backups sin cifrar:</strong> cifra en reposo y en tr√°nsito; controla acceso al backup.</li>
    </ul>

    <div class="vault-box" style="margin-top:18px;">
        <strong>üß™ Mini‚Äëreto:</strong> redacta una pol√≠tica de llaves de 6 puntos (generaci√≥n, almacenamiento, acceso, rotaci√≥n, revocaci√≥n, auditor√≠a). Debe caber en media p√°gina.
    </div>

</div>

</body>
</html>